<szk-loading [loading]="isLoading"></szk-loading>
<form
  action=""
  [formGroup]="categoryForm"
  class="d-flex flex-wrap gap-2"
  (ngSubmit)="onSubmit()"
>
  <div class="form-group w-75">
    <input
      type="text"
      class="form-control"
      placeholder="Thể Loại Chính"
      formControlName="category_name"
    />
  </div>
  <div class="form-group ms-auto">
    <button class="btn" type="button" (click)="addMoreSubCategory()">
      <i class="fas fa-plus"></i> Thêm Thể Loại Phụ
    </button>
  </div>
  <div class="form-group w-100" *ngIf="subCategory.controls.length > 0">
    <ng-container
      formArrayName="sub_category"
      *ngFor="let subCategory of subCategory.controls; let i = index"
    >
      <div class="sub-category d-flex align-items-center mb-2">
        <button class="btn me-2" (click)="removeSubCategory(i)" type="button">
          <i class="fas fa-times"></i>
        </button>
        <input
          type="text"
          class="form-control w-50"
          placeholder="Thể Loại Phụ"
          [formControlName]="i"
        />
      </div>
    </ng-container>
  </div>
</form>

<div class="modal-footer border-0">
  <button type="button" class="btn" data-bs-dismiss="modal">
    {{ modalSettings.btnClose }}
  </button>
  <button type="submit" class="btn" (click)="onSubmit()">
    {{ modalSettings.btnSave }}
  </button>
</div>
